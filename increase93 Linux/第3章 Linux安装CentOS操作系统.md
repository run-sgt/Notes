![img](D:\Notes\md_img\logo.jpg)

### 技术笔记分享

登录注册

- [首页](https://www.increase93.com/)
- [运维基础](https://www.increase93.com/?cat=5)
- [网站架构](https://www.increase93.com/?cat=6)
- [Shell编程](https://www.increase93.com/?cat=8)
- [MySQL](https://www.increase93.com/?cat=9)
- [Zabbix](https://www.increase93.com/?cat=11)
- [云计算运维](https://www.increase93.com/?cat=10)
- [经验宝典](https://www.increase93.com/?cat=12)

×



# [技术笔记分享](https://www.increase93.com/)



## 第三章 Linux安装CentOS操作系统

2019-07-11 分类：[运维基础](https://www.increase93.com/?cat=5) 阅读(77) 评论(0)

1. ## 虚拟机软件

   1. ### 虚拟机软件介绍



简单地说，虚拟机（Virtual Machine）软件就是一套特殊的软件，它可以作为操作系统独立运行，也可以运行于操作系统之上。若是运行于系统之上的虚拟机软件，就可以在一台电脑上模拟出若干台相对独立的虚拟PC设备，并且可以在每台虚拟的PC设备上安装运行操作系统，运行网络服务，和真实的计算机设备几乎无任何使用差别。

使用时，需要先在电脑上安装好虚拟机软件，然后通过安装的虚拟机软件创建一个或多个虚拟机系统，最后在这些虚拟的电脑设备上安装操作系统并进行启动配置。最终实现在一台电脑上同时运行多个虚拟机设备系统。

另外，还可以将这些虚拟的系统连成局域网，用来部署网站集群架构等更深层次的运维技术，这样的虚拟环境，在我们学习后面的内容时会使用到。



常用的虚拟机软件（如下表所示）

| 虚拟机软件            | 特点及选择建议                                               |
| --------------------- | ------------------------------------------------------------ |
| VMware Workstations   | 工作站版虚拟化软件，简单、易用，适合搭建学习环境             |
| VMware fusion         | MAC 版的VMware虚拟机软件                                     |
| KVM/XEN linux的虚拟化 | 服务器级虚拟化软件，适合企业虚拟化应用，复杂、不适合学习环境 |
| Virtual PC            | MAC平台可以用                                                |
| Virtual Box           | 开源的虚拟机软件                                             |

1. ### 为什么通过VMware虚拟机软件学习运维



通过虚拟机软件学习是初学者学习Linux运维的最佳方式。

很多初学者都认为，学习linux就必须把自己的电脑装成linux系统或者必须要有真正的服务器设备。而实际上这些是一些机构、书籍或网络文章给人传导的错误思想和思维。其实，学习Linux最简单、最实用的环境就是虚拟机环境。具体的原因有以下几点：



1.利用虚拟机软件搭建Linux学习环境简单，容易上手，最重要的是利用虚拟机模拟出来的Linux和真实的Linux几乎没有任何区别。企业里运维人员的工作环境绝大多数都是在Windows桌面系统下通过SSH工具远程连接千百里之外的Linux服务器进行管理和维护的。而不是直接跑机房进行管理，因此，用虚拟机软件来搭建环境是最接近企业工作环境的。



2.搭建Linux集群等大规模环境有时需要同时开启几台虚拟机（每台虚拟机仅需256~512MB内存、6~8GB的硬盘空间即可），此时如果是用服务器或者自己的电脑装linux，则很难满足学习要求，购买多台服务器就更不现实了。事实上，仅仅价值四五千块钱的个人笔记本电脑就可以轻松实现搭建中小规模Linux集群架构的学习要求。



3.用虚拟机学习，如果电脑配置高一点，可以同时开启多个Linux虚拟机学习，上班、回家的路上，带着笔记本电脑即可随时学习，如果是多台真实电脑和服务器设备，就无法移动了。



4.使用虚拟机系统环境，我们可以随意对虚拟系统进行任何的设置和更改操作，甚至可以格式化虚拟机系统硬盘，进行重新分区等操作，而且完全不用但心会丢掉有用数据，因为虚拟机是系统上运行的一个虚拟软件，对虚拟机系统的任何操作都相当于在操作虚拟机的虚拟机设备和系统，不会影响电脑上的真实数据。

综上所述，学习Linux运维，几乎99.9%的知识都和硬件设备无关，我们不要给自己设置太多的限制和门槛，那样会影响学习Linux 的进度，从而可能导致丧失学习Linux的兴趣。当然了，如果有条件的可以去摸一摸真正的服务器设备或者云服务器。



企业真正服务器硬件手把手介绍（14-1） http://v.qq.com/page/g/x/y/g016789xvxy.html

1. ## 下载CentOS系统ISO镜像

   1. ### 下载CentOS系统ISO镜像说明



要安装CentOS系统,就必须有CentOS系统软件安装程序,可以通过浏览器访问CentOS的官方站点[http://www.centos.org](http://www.centos.org/), 然后在导航栏找到Downloads->Mirrors链接,点击进入后即可下载,但这是国外的站点，下载速度受限。

[http://mirrors.aliyun.com](http://mirrors.aliyun.com/) #阿里云官方镜像站点 centos 最新版本 7.6

http://vault.centos.org/ #vault 所有版本CentOS下载库 http://vault.centos.org/7.5/isos/x86_64/



1. ### 为什么企业环境要选择64位操作系统？



目前绝大多数企业生产环境中，使用的都是64位CentOS系统，32位与64位系统的定位和区别。



区别之一：当初设计时的定位不同。

64位操作系统的设计定位是：满足机械设计和分析、三维动画、视频编辑和创作，以及科学计算和高性能计算应用程序等领域，这些应用领域的共同特点就是需要有大量的系统内存和浮点性能。简单地说，64位操作系统是为高科技人员使用本行业特殊软件的运行平台而设计的。而32位操作系统是为普通用户设计的。



区别之二： 安装要求配置不同。

64位操作系统只能安装在64位电脑上（CPU必须是64位的），并且只在针对64位的软件时才能发挥其最佳性能。32位操作系统既可以安装在32位（32位CPU）电脑上，也可以安装在64位（64位CPU）电脑上。当然，此时32位的操作系统是无法发挥64位硬件性能的。



区别之三：运算速度不同。

64位==>8车道大马路

32位==>4车道马路

64位CPU GPRs（General-Purpose Registers，通用寄存器）的数据宽度为64位，64位指令集可以运行64位数据指令，也就是说处理器一次可提取64位数据（只要两个指令，一次提取8个字节的数据），比32位提高了一倍（32位需要四个指令，一次只能提取4个字节的数据），性能会相应提升。



区别之四：寻址能力不同。

支持的最大内存不同。

32位系统 4GB内存 3.5GB ===>PAE技术支持更大内存

64位Windows 7 x64 Edition支持多达128 GB的物理内存。

64位处理器的优势还体现在操作系统对内存的控制上。由于地址使用的是特殊整数，因此一个ALU（算术逻辑运算器）和寄存器可以处理更大的整数，也就是更大的地址。比如，Windows 7 x64 Edition支持多达128 GB的物理内存和16 TB的虚拟内存，而32位的CPU和操作系统理论上最大只可支持4GB的内存，实际上也就是3.2GB左右的内存，当然32位系统是可以通过扩展来支持大内存的，扩展所采用的是PAE技术。



提示：若要用一句话概括32位与64位系统的区别，那就是64位的系统的CPU运算速度更快，支持更大的内存使用，可以发挥更大更好的硬件性能，提升业务工作效率。

1. ## 创建一个新的虚拟机

   1. ### 选择自定义配置 

- 在VMware软件中，单击左上角的"文件"，在下拉菜单中选择"新建虚拟机"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent1.png)

- 在弹出的"新建虚拟机向导"选项卡里面，选择"自定义（高级）"。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent2.png)

1. ### 选择虚拟机硬件兼容性

- "硬件兼容性"一项，选择最新的，我用的是VMware12版本，所以我能选到的最新的是Workstation12.0。如果使用的是VMware14版本，那此处就选择Workstation14.0。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent3.png)

1. ### 安装客户机操作系统

- 我们后面要自己定制化安装CentOS7系统，所以此处选择"稍后安装操作系统"。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent4.png)

1. ### 选择客户机操作系统

- 我们要学习的是linux系统，CentOS也属于Linux系统的一种，所以此处当然要选择"Linux"，版本选择"CentOS 64位"。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent5.png)

1. ### 命名虚拟机

- 关于虚拟机名称，给一个建议，叫做所见即所得，或者叫见名知意，就是说打开VMware软件，不需要一台台的开启虚拟机去检查它是做什么用途的，只要看见每一台虚拟机的名字，就能够知道它是用来做什么的，这样能够增加规范性，也能够减少误操作的概率。
- 位置一项，点击"浏览"后选择事先规划好的位置即可。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent6.png)

1. ### 处理器配置

- 我们学习的时候都是在自己的笔记本电脑上安装虚拟机，所以处理器（其实就是CPU的意思）都给1个就可以。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent7.png)

1. ### 内存配置

- 内存这一项需要注意，安装系统的时候，最好选择2G或更多，待安装完系统后，再改成1G即可。
- 此处可以在左边的树状条直接用鼠标点击选择内存大小，也可以在右边的框内手动输入数字，需要注意单位是MB，所以2G内存需要输入的数字是2048，而不是2。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent8.png)

1. ### 选择网络类型



VMware虚拟机常见的网络类型有bridged（桥接）、NAT（地址转换）、host-only（仅主机）3种，在分析如何选择之前，先要简单和大家介绍下这三种网络类型。

Vmware 虚拟机里centos系统获取ip地址有3种方式。



NAT（地址转换）

NAT（Network Address Translation），网络地址转换，NAT模式是比较简单的实现虚拟机上网的方式，简单的理解，NAT模式的虚拟机就是通过宿主机（物理电脑）上网和交换数据的。

在NAT模式下，虚拟机的网卡连接到宿主机的VMnet8上。此时系统的VMWare NAT Service 服务就充当了路由器，负责将虚拟机发到VMnet8的包进行地址转换之后发到实际的网络上，再将实际网络上返回的包进行地址转换后通过VMnet8发送给虚拟机。VMWare DHCP Service负责为虚拟机分配IP地址。



NAT网络类型的原理逻辑图如图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent9.png)

NAT网络特别适合于家庭里电脑直接连接网线的情况，当然办公室的局域网环境也是适合的，优势就是不会和其他物理主机IP冲突，且在没有路由器的环境下也可以通过SSH NAT连接虚拟机学习，换了网络环境虚拟机IP等不影响，这是推荐的选择。



Bridged（桥接模式）

桥接模式可以简单理解为通过物理主机网卡架设了一座桥，从而连入到了实际的网络中。因此，虚拟机可以被分配与物理主机相同网段的独立IP，所有网络功能和网络中的真实机器几乎完全一样。桥接模式下的虚拟机和网内真实计算机所处的位置是一样的。

在Bridged模式下，电脑设备创建的虚拟机就像一台真正的计算机一样，它会直接连接到实际的网络上，逻辑上上网与宿主机（电脑设备）没有联系。Bridged网络类型的原理逻辑图如图所示。



![img](D:\Notes\md_img\071119_0359_LinuxCent10.png)



Bridged网络类型适合的场景：特别适合于局域网环境，优势是虚拟机像一台真正的主机一样，缺点是可能会和其他物理主机IP冲突，并且在和宿主机交换数据时，都会经过实际的路由器，当不考虑NAT模式的时候，就选这个桥接模式，桥接模式下换了网络环境后所有虚拟机的IP都会受影响。







Host-only（仅主机）

在Host-only模式下，虚拟机的网卡会连接到宿主的VMnet1 上，但宿主系统并不为虚拟机提供任何路由服务，因此虚拟机只能和宿主机进行通信，不能连接到实际网络上，即无法上网。Host-only网络类型的原理逻辑图如图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent11.png)

- 为了方便学习，"网络类型"这项，必须选择"使用网络地址转换（NAT）"，想要尝试其余几种网络类型的话，等变成linux老鸟之后，再自行研究。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent12.png)

1. ### 选择I/O控制类型

- "I/O控制器类型"这一项，直接默认默认即可，不需要改动。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent13.png)

1. ### 选择磁盘类型

- "磁盘类型"这一项，也直接默认即可，不需要改动。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent14.png)

1. ### 选择磁盘

- "磁盘"这一项，选择"创建新虚拟机磁盘"，我们要安装新系统嘛，自然也创建一块空的新磁盘是最好的。注意千万别选"使用物理磁盘"，如果选了此项，那你那块盘里的所有东西就都被格式化没了，会哭的哦。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent15.png)

1. ### 指定磁盘容量

- "磁盘容量"这一项，学习期间不会产生多少数据，所以磁盘大小只要至少给到10G就行，当然如果你的硬盘很大很任性要给个1T这也是完全没有问题的。

建议将磁盘存储为单个文件，比较方便，但这里不是硬性要求，看个人喜好。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent16.png)

1. ### 指定磁盘文件

- "磁盘文件"的名字，保持默认的即可。

选择完毕后，点击"下一步"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent17.png)

1. ### 挂载CentOS镜像

- 选择自定义硬件，进入硬件选项进行配置。
- 在"硬件"选项卡里面，还需要配置一下要使用的操作系统iso文件。在左侧选中"新CD/DVD(IDE)"，在右侧选中"使用ISO映像文件"，点击"浏览"按钮，在弹出的窗口中找到本地的CentOS系统iso文件。

选择完毕后，点击"关闭"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent18.png)![img](D:\Notes\md_img\071119_0359_LinuxCent19.png)

1. ### 完成创建虚拟机

- 此时，一台新虚拟机的硬件就全部配置完毕了，检查确认无误后，就可以开机装系统了。

确认完毕后，点击"完成"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent20.png)

1. ## 安装CentOS-7.5操作系统

   1. ### 开机

- 安装系统的第一步，要从开机开始。开机之前，请再次确认一下网卡的类型，一定要确保分别是NAT。 

确认完毕硬件后，点击"开启此虚拟机"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent21.png)

1. ### 图形化界面安装

- 虚拟机开机后，选择"Install CentOS7"这一项。此时鼠标是不好用的，都是使用键盘的上下箭头来进行操作的，选好后按键盘上的tab键。
- 之后在最下方输入net.ifnames=0 确定无误后按回车键，此处的含义就是定义7.x系统的网卡命名规则。6.x系统无需定义，默认就是此规则。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent22.png)
![img](D:\Notes\md_img\071119_0359_LinuxCent23.png)

1. ### 选择安装使用的语言

- 作为一个Linux的学习者，要适应英文环境，所以强烈建议此处选择英文，而不选择中文。

选择完毕后，点击"Continue"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent24.png)

1. ### 设置时区

- 配置时区，点击"DATE&TIME"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent25.png)

- 我们生活在中国嘛，所以时区选择"亚洲-上海"。时间不用管，待装完系统后，同步一下即可。

选择完毕后，点击"Done"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent26.png)

1. ### 最小化安装系统

- 选择需要安装的软件，点击"SOFTWARE SELECTION"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent27.png)

安装系统的两种方式

GUI 图形方式

CLI 文本方式

- 安装linux系统，一般都采用最小化安装的原则，在初始时，只选择必要的几个软件包即可。学习期间，请跟下图中的红色框里的选择一模一样。

选择完毕后，点击"Done"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent28.png)

1. ### 关闭KDUMP

- 配置"KDUMP"，这是一个内核崩溃时使用的东西，暂时不需要开启，把它关闭掉。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent29.png)

- 把"Enable kdump"的勾选去掉即可。

选择完毕后，点击"Done"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent30.png)

1. ### 自定义分区

企业生产场景中Linux系统的分区方案：（注意分区先后顺序）看需求。

- 常规生产场景(工作)方案，网络集群架构中的某个节点服务器（很多个功能相同的服务器），即数据有多份或者数据不重要的服务器，建议分区方案如下：

/boot：存放引导程序 CentOS6给200M

swap：
虚拟内存




工作中：物理内存<16G，SWAP就
内存*1.5-2倍


物理内存>16G，SWAP就最大 16G

/：根，存放所有数据，剩余空间都给根（/usr，/home，/var等分区和/共用一份分区，像Windows的C盘，所有数据和系统文件都放在了一起）

- 数据库及存储角色的服务器，即有大量重要的数据的业务，建议分区方案如下：

/boot：存放引导程序，CentOS6给200M，CentOS7给200M

swap ：虚拟内存


工作中：物理内存<16G，SWAP就
内存*1.5-2倍


物理内存>16G，SWAP就最大 16G

/：根，50-200G，只存放系统相关文件，网站业务数据不放这里

/data：剩余硬盘空间大小，放数据库及存储重要数据的，data的名称也可以起别的名字。

提示：本方案其实就是把重要数据单独分区，便于备份和管理

- 大门户网站，大型企业的分区思路

/boot：存放引导程序，CentOS6给200M，CentOS7给200M

swap：虚拟内存


工作中：物理内存<16G，SWAP就
内存*1.5-2倍


物理内存>16G，SWAP就最大 16G

/ ：根，50-200G，只存放系统相关文件，网站业务数据不放这里

剩余空间不分区，保留，将来分配给部门，由他们根据需求再分

提示：此方法更灵活，比较适合业务线比较多需求不确定的大企业使用。

普通网友的分区方案：不推荐，应禁止（/boot,swap,/,/usr,/home,/var），没有主见的被动式的分区，没必要且管理麻烦。

分区少一些，对所有分区进行监控报警是目前多数规范企业的选择。

- LVM：在线调整分区大小

1、性能差

2、没必要（事先规划好）！

- 操作系统软件raid不要用

1、性能差，没有冗余

2、生产场景使用硬件raid

- 配置磁盘进行分区，点击"INSTALLATION DESTTINATION"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent31.png)

- 选中磁盘后，选择"I will configure partitioning"。

选择完毕后，点击"Done"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent32.png)

- 在左侧中间的下拉菜单里面，选择"Standard Partition"。然后点击左下方的"+"号，添加/boot分区。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent33-1566387359325.png)

- 在弹出的对话框中，请按照下图中的内容配置。

选择完毕后，点击"Add mount point"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent34.png)

- 再次点击左下角的"+"号，添加swap分区。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent35.png)

- 在弹出的对话框中，请按照下图中的内容配置。

选择完毕后，点击"Add mount point"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent36.png)

- 再次点击左下角的"+"号，添加根分区。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent37.png)

- 在弹出的对话框中，请按照下图中的内容配置。

选择完毕后，点击"Add mount point"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent38.png)

- /boot、/、swap三个分区都添加完毕后，检查确认无误，就可以写入磁盘了。

确认完毕后，点击"Done"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent39.png)

- 再次确认分区无误后，选择同意更改，即可将分区设置写入磁盘了。

选择完毕后，点击"Accept Changes"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent40-1566387351005.png)

提示:
这里采用的是生产环境中集群节点下的节点服务器的分区方式，即系统坏掉后硬盘数据不需要保留。此分区方式也适合大多数生产环境的服务器，如果是数据库以及存储等有重要数据的特殊业务服务，一般会单独分存放数据的分区如 /data。

除了/boot、swap和/三个分区外，还可以加/usr、/home、/var等分区，具体要根据服务器的需求来决定，一般情况下，只配置这三个分区足够了。

这种分区方案最大优点就是简单，使用方便，可批量安装部署，而且不会存在有的分区满了，有的分区还剩余了很多空间又不能被利用的情况（LVM的情况这里先不阐述）。

该分区方案的缺点是如果系统坏了，重新装系统时，因为数据都在/（根）分区，导致数据备份很麻烦，如果设置了/usr、/home、/var等分区，即使系统出了故障，也可以直接在/（根）分区装系统，这样并不会破坏其他分区的数据。当然，刚才也说了，如果是不存在备份数据的集群节点，那采用这种分区方案是很明智的，不需要特别担心某个分区暴满的问题。

1. ### 设置IP和主机名

- 配置网络，点击"NETWORK$HOSTNAME"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent41.png)

- 如果在前期没有定义网卡名称规则，在这里就不是eth0,而是ens33等不规则名称，不要着急，在命令行里面也是可以修改的。
- 配置eth0。在左侧选中"Ethernet（eth0）"，把右上角的按钮选到"ON"状态，最后点击右下角的"Configure"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent42.png)

- 在"General"选项中，把第一行勾选上。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent43.png)

- 在"IPv4 Settings"选项中：
- "Method"项选择"Manual"；
- "Addresses"项，先点击右侧的"Add"，再在左侧的大框里填写好IP地址、子网掩码、网关三项，这三项的具体信息请按照下图中填写，一模一样即可；
- "DNS servers"项，直接填写网关即可（既10.0.0.254），也可以配置互联网上公共开放的DNS地址，比如阿里的223.5.5.5和223.6.6.6。

选择完毕后，点击"Save"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent44-1566387344787.png)

提示：不建议保留默认Hostname主机名，设置一个规范的主机名，会显得更专业，这是运维的原则，而且也可避免对后面业务服务的安装配置产生影响。自定义主机名时可以用普通的字符串（例如www）。最好就是由简单字母或字母带数字字符（以字母开头，不要用数字开头，可带下划线等）组成，不建议用特殊字符。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent45.png)

- 至此，所有需要配置的项已经都配置完毕了，可以开启系统安装了。

选择完毕后，点击"Begin Installation"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent46.png)

1. ### 设置root密码

- 给root用户设置密码，点击"ROOT PASSWORD"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent47.png)

- 学习期间为了练习方便，root用户的密码简单的设置为123456即可。但工作环境中，无论什么用户，密码一定要设置得复杂些，增加安全性。

配置完毕后，点击"Done",这里需要Done两次才能生效。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent48.png)

提示：如果是生产环境，root口令要尽量复杂。比如，设置8位以上包含数字字母大小写甚至是特殊字符的口令。在企业运维工作中安全是至关重要的一环，安全要从每一件小事做起。配置root超级管理员密码123456,一般学习可以配置容易记忆的密码,如果是企业环境就需要一定的复杂度才可以,这里我配置的密码过于简单, 如果是学习环境，还是建议使用简单密码，否则经常忘记密码也是一件不舒服的事情，很多的新手都会遇到这个问题。

1. ### 安装结束重启

- 待软件安装完毕后，点击"Reboot"，系统就安装完毕啦。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent49-1566387338546.png)

1. ## 安装完系统之后的基本配置

   1. ### 登录界面介绍

- 新安装完的CentOS7.5系统，登录界面如下图所示。需要输入用户及其密码后，方可登录进入系统。其中需要注意的一点是，输入密码时屏幕没有任何反应，这是正常现象，不要怀疑自己，勇敢的敲正确的密码即可，输入完密码之后按回车键。

![img](D:\Notes\md_img\071119_0359_LinuxCent50.png)

图 CentOS7.5登录界面界面说明

1. ### 配置VMware Workstation整个网络

- 虚拟网络编辑器设置

打开VMware Workstation，点击"编辑"，在下拉菜单中点击"虚拟网络编辑器"。

如下图所示。

![img](https://www.increase93.com/wp-content/uploads/2019/07/071119_0359_LinuxCent51.png)

- Windows10系统中，需要先点击右下角的"更改设置"按钮，才可以进行修改配置的操作。

如下图所示。

![img](https://www.increase93.com/wp-content/uploads/2019/07/071119_0359_LinuxCent52.png)

- 在虚拟网络编辑器里面，选中VMnet8，VMnet信息里面选择NAT模式，不使用DHCP服务（也就是不勾选"使用本地DHCP服务奖IP地址分配给虚拟机"那一项），子网IP配置为10.0.0.0，子网掩码配置为255.255.255.0。
- 这几项配置完毕后，点击"应用"按钮，之后点击"NAT设置"按钮，在新弹出的"NAT设置"配置框内，网关一项应该已经自动变成10.0.0.2了，如果不是10.0.0.2的话，手动修改后点击"确定"按钮即可。
- 最后，以上所有配置都检查确认无误后，点击"虚拟网络编辑器"配置框里面的"确定"按钮，保存所有的配置信息即可。
- 具体配置顺序如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent53-1566387333109.png)

图 VMnet8相关设置

- 一般来说，网关应该设置为10.0.0.254，很简单，就是把图1-3中的第⑥项改为10.0.0.254之后，确定保存即可。
- 具体配置顺序如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent54-1566387331811.png)

1. ### 首选项

- 打开VMware Workstation，点击"编辑"，在下拉菜单中点击"首选项"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent55-1566387327276.png)

- VMware Workstation的首选项里面，只有一个地方需要修改，那就是"工作区"里的"虚拟机的默认位置"。VMware默认会将虚拟机存放在C盘，而Windows系统一般C盘都比较小，所以建议改到磁盘空间比较大的那个盘里面。注意，需要事先创建好相关的文件夹。

具体操作顺序如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent56-1566387326314.png)

1. ### Windows系统服务设置

- 另外，需要检查确认一下Windows系统的服务里面VMware相关的服务是否都已开启。

具体操作为：右键点击"此电脑"，选择"管理"，在打开的页面里面，选择"服务和应用程序"里面的"服务"选项。在右侧找到VMware相关的服务，检查其中的"VMware NAT Service"和"VMware Workstation Server"两项，要保证这两个服务的状态为"正在运行"，启动类型为"自动"。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent57-1566387318858.jpg)

1. ### 使用VMware给虚拟机拍摄快照

- 在VMware软件里，选中需要拍快照的虚拟机，然后在已选中的虚拟机上单击鼠标右键，在弹出的菜单里面选择"快照"，再在弹出的菜单里面选择"拍摄快照"。
- 克隆虚拟机之前需要操作：1个清空2个删除。1个清空：> /etc/udev/rules.d/70-persistent-net.rules

2个删除：网卡配置文件的UUID的行和HWADDR的行

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent58-1566387317388.png)

- 在弹出的对话框内，给快照起个名字，然后点击"拍摄快照"按钮，即可保存快照。

如下图所示。

![img](D:\Notes\md_img\071119_0359_LinuxCent59-1566387315862.png)

1. ### 命令行设置网卡名称规则

[root@ server ~]# cd /etc/sysconfig/network-scripts/ #修改网卡配置文件

[root@ server network-scripts]# mv ifcfg-eno16777728 ifcfg-eth0

[root@ server network-scripts]# sed -i "s#ens33#eth0#g" ifcfg-eth0

[root@server~]# vim /etc/sysconfig/grub #GRUB添加kernel参数

GRUB_CMDLINE_LINUX="...net.ifnames=0 biosdevname=0 quiet"

[root@server~]# grub2-mkconfig -o /boot/grub2/grub.cfg

[root@server~]# reboot #重启系统生效

未经允许不得转载！博主QQ：1176494252：[技术笔记分享](https://www.increase93.com/) » [第三章 Linux安装CentOS操作系统](https://www.increase93.com/?p=193)







### 