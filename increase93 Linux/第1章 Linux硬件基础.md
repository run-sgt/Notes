## 第一章 Linux硬件基础

2019-07-11 分类：[运维基础](https://www.increase93.com/?cat=5) 阅读(238) 评论(0)

1. ## 计算机介绍

现在的人们几乎无时无刻都在使用电脑！而且已经离不开电脑了。像桌上的台式电脑(桌机)、笔记本电脑(笔电)、平板电脑、智能手机等等，这些东西都算是电脑。

1. ### 台式机电脑介绍

计算机又被称为电脑。台式机电脑主要分为主机和显示器两个部分，一般用于家庭娱乐、日常办公，例如：听音乐、打游戏、看电影、做图表等。优点是可以配置独立显卡、声卡、显示器等设备，因此配置会更高一些，使用时更为的方便。缺点是设备体积和重量太大，占地方且移动不方便，在国内的一二线城市已经逐步退出历史舞台了，被简便、小巧并且同样可以高配置的笔记本电脑取代。

![img](D:\Notes\md_img\071119_0253_Linux1-1566387006561.png)

图-台式机电脑

1. ### 笔记本电脑介绍

笔记本电脑以其简便、小巧、携带方便等优点被更多人选择使用，早期多用于办公，现在已经逐步走进千家万户，成为国内计算机用户的主流选择、和早期不同的是，现在笔记本电脑的部件参数配置也可以很高，并且价格已经下降到普通用户可以接受的程度了。

![img](D:\Notes\md_img\071119_0253_Linux2-1566387006569.png)

图-笔记本电脑

硬件是组成计算机的物理实体，它提供了计算机工作的物质基础，人通过硬件向计算机系统发布命令、输入数据，并得到计算机的响应，计算机内部也必须通过硬件来完成数据存储、计算及传输等各项任务。

无论是哪一种计算机和服务器，一个完整的硬件系统从功能角度必须包括运算器、控制器、存储器、输入/输出设备5个核心部分，每个功能部件各尽其职、协调工作。根据计算机的特点，我们通常将硬件分为主机和外部设备两部分。

**计算机主机内部结构如下图所示：**

![img](D:\Notes\md_img\071119_0253_Linux3-1566387006581.png)

**图-计算机主机内部结构**

**计算机的硬件组成部件如下图所示**：

![img](D:\Notes\md_img\071119_0253_Linux4-1566387007270.jpg)

**图-计算机硬件组成的部件示意图**





**计算机工作原理图如下：**

![img](D:\Notes\md_img\071119_0253_Linux5-1566387007274.png)

**图-计算机工作原理**

![img](D:\Notes\md_img\071119_0253_Linux6-1566387008164.png)

**图-计算机硬件基本组成图示**

计算机原理由冯·诺依曼（Von Neumann）与莫尔小组于1943年—1946年提出。在人类科技史上还没有一种科学可以与计算机的发展之快相提并论。计算机原理适用于科学计算、信息管理等领域。

计算机的工作过程是将现实世界中的各种信息转换成计算机能够理解的二进制代码（信息编码），然后保存在计算机的存储器（数据存储）中，再由运算器对数据进行处理（数据计算）。在数据存储和计算过程中，需要通过线路将数据从一个部件传输到另外一个部件（数据传输）。数据处理完成后，再将数据转换成人类能够理解的信息形式（数据解码）。在以上工作过程中，信息如何编码和解码，数据存储在什么位置，数据如何进行计算等，都由计算机能够识别的机器指令（指令系统）控制和管理。

![img](D:\Notes\md_img\071119_0253_Linux7-1566387020679.png)

**图-计算机硬件工作原理图**

1. ## 运维职责与工作内容

   1. ### 运维人员的核心职责

- **企业数据安全（不丢失、不泄露）。**

  企业数据是每个现代IT企业的生命线，作为linux运维人员，不但不能丢失任何数据，同时，也不能泄露公司的任何有用数据给外部人员。

- **企业业务7\*24小时运行（永不宕机）。**

  互联网企业甚至传统企业（例如：银行和电信），除了数据安全外，还需要业务有持续运行的能力，这对linux运维人员来说，增加了更高的要求。

- **企业业务服务效率高（用户体验好）。**

  企业一切工作的最终目的都是给用户提供高效、舒心的服务，如果网站打开很慢，用户的使用体验就会很差，这样的企业是没有任何生命力的。因此，linux运维人员需要不断的优化网站业务，让用户能够高效的访问网站，这是决定linux运维人员是否能拿高薪的必备条件。

注意：运维人员的基本原则：**简单，易用，高效****，稳定，安全。**

1. ### 运维人员的工作内容

- **日常服务器维护、处理紧急故障。**
- **服务器日常监控。**
- **业务代码上线。**
- **完成项目:备份、迁移、升级等。**
- **网站业务优化，优化的部分：系统、服务、应用等。**
- **梳理总结文档，形成制度，并推行制度。**
- **领导的其他工作安排。**

1. ## 运维人员工作的主战场—服务器

   1. ### 什么是服务器？

服务器，也称伺服器(台湾)，是提供计算和存储服务的设备。由于服务器需要响应服务请求，并进行处理，因此一般来说服务器应具备承担服务并且保障服务的能力。服务器的构成和通用的计算机结构类似，但是由于需要提供高可靠的服务，因此在处理能力、稳定性、可靠性、安全性、可扩展性、可管理性等方面要求较高。

简单来讲：服务器就是一台特殊的电脑，它的配置更高，设备更贵更好，主要用在企业的后台为用户提供各种业务服务。

在网络环境下，根据服务器提供的服务类型不同，可以分为存储服务器、数据库服务器、负载均衡服务器、WEB服务器等。

服务器的功能：搭建网站（互联网企业常见应用）等应用服务所使用的机器，相对于其他台式机或笔记本电脑来说，他更加的稳定和可靠。其硬件有7*24小时持续运行的能力。

![img](D:\Notes\md_img\071119_0253_Linux8-1566387007545.png)

**图-互联网主流服务器外观**

1. ### 服务器的尺寸

你们所使用的笔记本电脑的显示器可以按照屏幕大小分为14英寸、15.6英寸等，同样，服务器也是有尺寸的，这个尺寸一般用来描述服务器的高度，即U（unit）。

服务器的尺寸是以U(unit)来做计量单位的，1U的服务器表示服务器的高度是1.75寸（4.45cm）。

常用服务器的大小：1U,2U,4U等。

1. ### 服务器按照外观分类

1.机架式服务器

机架式服务器的外形看来不像计算机，而像"抽屉"（如下图所示），有1U、2U、4U等规格。机架式服务器一般安装在标准的19英寸机柜里面。这种类型是我们工作中使用最多的服务器类型。

机架式服务器如下图所示：

![img](D:\Notes\md_img\071119_0253_Linux9-1566387008901.png)

**图-机架式服务器**

2.刀片式服务器

刀片式服务器的外观类似一个箱子里摆放整齐的书（如下图所示）。

刀片式服务器是指在标准高度的机架式机箱内可插装多个卡式的服务器单元，实现高可用和高密度。每一块"刀片"实际上就是一块系统主板。它们可以通过"板载"硬盘启动自己的操作系统，如Windows NT/2000、Linux等，类似于一个个独立的服务器，在这种模式下，每一块母板独立运行自己的系统，服务于指定的不同用户群，相互之间没有关联，因此相较于机架式服务器和机柜式服务器，单片母板的性能较低。不过，管理员可以使用系统软件将这些母板集合成一个服务器集群。在集群模式下，所有的母板可以连接起来提供高速的网络环境，并同时共享资源，为相同的用户群服务。在集群中插入新的"刀片"，就可以提高整体性能。而由于每块"刀片"都是热插拔的，所以，系统可以轻松地进行替换，并且将维护时间减少到最小。

刀片式服务器如下图所示：

![img](D:\Notes\md_img\071119_0253_Linux10-1566387011762.jpg)

**图-刀片式服务器**

3.塔式服务器—更强壮的计算机

塔式服务器（Tower Server）应该是最容易理解的一种服务器结构类型。因为它的外形以及结构都跟立式PC差不多（如下图所示），当然，由于服务器的主板扩展性较强、插槽也多出一堆，所以个头比普通主板大一些，因此塔式服务器的主机机箱也比标准的ATX机箱要大，一般都会预留足够的内部空间以便日后进行硬盘和电源的冗余扩展。但这种类型服务器也有不少局限性，比如，在需要采用多台服务器同时工作，以满足较高的服务器应用需求时，由于其个体比较大，占用空间多，也不方便管理，便显得很不适合使用。

塔式服务器如下图所示：

![img](D:\Notes\md_img\071119_0253_Linux11-1566387009481.png)

**图-塔式服务器**



1. ### 互联网公司的服务器品牌

1.互联网公司常用的服务器品牌如下：

- DELL（戴尔）        互联网公司应用最广
- HP惠普                部分互联网公司在用
- IBM                    较高大上的服务器，有些传统企业在用，百度也在用。
- 浪潮                国产，传统企业、学校用，总部在山东济南
- 联想                国产，部分企业在用。
- 航天联志            国产，部分企业在用。
- 华为                国产，部分企业在用。

要说明的是，现在越来越多的企业直接购买云服务器了，因此，服务器硬件也逐渐变得不像以前那么重要了。随着云服务器的发展，中小企业直接购买硬件的机会越来越少，各类硬件工程师的岗位和前景也越来越不明朗了。建议这部分人群加速转行到linux运维或者Python开发的领域（在这个领域上，之前的技术都可以叠加到linux运维上。）

2.什么是云服务器？

云服务器(Elastic Compute Service, ECS)是一种简单高效、安全可靠、处理能力可弹性伸缩的计算服务。其管理方式比物理服务器更简单高效。用户无需提前购买硬件，即可迅速创建或释放任意多台云服务器。

简单理解就是：根据用户的需求，进行按量分配。

![img](D:\Notes\md_img\071119_0253_Linux12-1566387010330.png)

互联网公司常用的云服务器的品牌如下：

- 阿里云        适合人群：较广泛。
- 腾讯云        适合人群：游戏客户、开发者、APP用户等。
- 西部数码    适合人群：中小企业或个人用户，无需特别懂技术。
- AWS亚马逊    国外品牌
- 百度云、金山云、华为云、天翼云、ucloud、世纪互联、网宿科技、35互联、华夏名网等众多品牌。

1. ### 服务器的常用型号

Dell服务器

下表给出了Dell服务器生产与使用时间，以及对应的U数，供大家参考。

| 主流应用时间段 | 1U的主流型号           | 2U的主流型号      |
| -------------- | ---------------------- | ----------------- |
| 2010年以前     | 1850、1950             | 2850、2950        |
| 2010-2013年    | R410、R610             | R710              |
| 2014-2016年    | R420、R430、R620、R630 | R720、R730        |
| 新产品         | R6415                  | R740/R740xd/R7425 |

- Dell服务器官网：http://china.dell.com/cn/business/p/servers
- 销售：看服务器到官网，买服务器找销售。

部分产品图片

- Dell R720

![img](D:\Notes\md_img\071119_0253_Linux13-1566387011616.png)

![img](D:\Notes\md_img\071119_0253_Linux14-1566387012388.png)

加上盖子。

![img](D:\Notes\md_img\071119_0253_Linux15-1566387013315.png)

- Dell R6415

![img](D:\Notes\md_img\071119_0253_Linux16-1566387014266.png)

- Dell R740

![img](D:\Notes\md_img\071119_0253_Linux17-1566387015254.png)

- Dell R7425

![img](D:\Notes\md_img\071119_0253_Linux18-1566387015541.png)IBM服务器

1U服务器：        3550/m3 3550/m5

2U服务器：        3650

4U服务器：        3850

8U服务器：        3950

IBM服务器质量好，但价格贵，互联网公司不太常用，仅作了解即可。

目前市场环境来看，"IOE"代表了全球三个领域里最好的品牌，即IBM（服务器）、Oracle（甲骨文数据库
）和Emc（存储厂商设备），但互联网公司从2012年的5月就在提出了去IOE运动，领头企业为阿里巴巴集团，企业去IOE的本质是：企业变大以后，购买IOE的成本开销会成倍的增加，且IOE的设备都是黑盒运行，并不能为企业完全掌控，受限于厂商。

1. ## 服务器核心部件介绍

服务器的内部结构和台式机电脑大同小异，基本零部件和台式电脑一样，例如有CPU处理器、内存、磁盘。所不同的是，服务器可以容纳的CPU处理器数量更多，风扇也更多，可插拔的硬盘数量也可以多很多。下图为服务器的内部结构：

![img](D:\Notes\md_img\071119_0253_Linux19-1566387016044.png)

**图-服务器内部结构**

1. ### 电源

电源相当于人体的心脏，保障服务器的电力供应，如果要买服务器，请选择质量好的电源。

服务器电源就是指使用在服务器上的电源（POWER），它和PC（个人电脑）电源一样，都是一种开关电源。

服务器电源按照标准可以分为ATX电源和SSI电源两种。ATX电源使用较为普遍，主要用于台式机、工作站和低端服务器；而SSI电源是随着服务器技术的发展而产生的，适用于各种档次的服务器。

在生产环境当中，若是单个服务器核心业务，最好使用双电源，分别接机房A、B线路。如果集群（一堆机器做一件事）的情况下可以不使用双电源。除此之外，运维工作就不用过多考虑电源的其他问题了。

典型的电源图片如下图：

![img](D:\Notes\md_img\071119_0253_Linux20-1566387018016.jpg)

**图-服务器电源**

1. ### CPU处理器

CPU处理器相当于人体的大脑，负责整个计算机的运算和控制，是服务器性能效率的最核心部件。（如下图所示）

![img](D:\Notes\md_img\071119_0253_Linux21-1566387017419.png)

![img](D:\Notes\md_img\071119_0253_Linux22-1566387017752.png)

**图-服务器CPU外形示例**

![img](D:\Notes\md_img\071119_0253_Linux23-1566387019647.png)

**图-CPU核心概念图**

CPU常见的种类分为精简指令集和复杂指令集两类：

精简指令集的CPU设计代表有Sun公司的Sparc系列和ARM系列等，这类CPU的设计特点是指令集精简，每个指令执行的时间很短，操作简单、效率高。

复杂指令集的设计代表有大家熟知的Intel志强系列（XEON）（应用广泛）和AMD系列（应用不多）等。这类CPU的设计特点是指令数量多，指令集复杂且执行的时间较长，但可以处理的事物更多、更丰富。目前我们所用的电脑和服务器都是使用这类的CPU。

Intel、AMD被称为x86架构的CPU，主要用于PC或Dell等常见品牌的系列服务器上。

服务器CPU的颗数，我们称为路数。例：Dell-R630双路1U服务器、Dell-R720双路2U服务器、Dell-R830四路2U服务器。

CPU一般通过频率（GHz）表示性能的好坏，频率越高速度越快，简单来说，CPU频率就是用来表示CPU每秒钟工作次数的，例如我用的电脑CPU是如下图所示：

![img](D:\Notes\md_img\071119_0253_Linux24-1566387019804.png)

企业级常见物理服务器配置：

一般企业里的服务器，CPU个（颗）数为2-4颗，单个（颗）CPU是四核，内存总量一般是16G-256G（32G，64G较常见）。

做虚拟化的宿主机（例如：应用虚拟化软件（VMware）、KVM的主机），CPU颗数可达4-8颗，内存总量一般是48G-128G，常规企业可以同时启动6-10个虚拟机，甚至更多，主要是根据业务需求决定虚拟机的配置大小的。

由于CPU长时间运行会发热，因此需要降温的设备，即CPU风扇或散热片（如下图所示），散热片主要是金属铜或者铝制的，目的就是将热量快速传导出去。

![img](D:\Notes\md_img\071119_0253_Linux25-1566387021267.png)

**图-服务器CPU风扇**

在企业级系统运维中，选择CPU硬件配置，以及监测和优化服务器系统CPU性能是运维人员的常见工作之一。CPU的优化是一个复杂的工作，需要长期的实践和反复观察。

Dell服务器部分型号的含义：

例：R720

R    代表的是机架式服务器
（T=塔式，M=刀片式）

7    代表路数，1-3是单路，4-7是双路，8可以说是双路也可以是四路，9是四路

​         2    代表是服务器的代数，0是十代，2代表第十二代。依次类推

​         0    代表CPU的品牌，0=Intel ,5=AMD

1. ### 内存

内存（RAM）（如图所示）是服务器中的一个临时存储器，它只负责数据的中转而不能永久保存。若断电，则数据就会丢失。

作用：内存是CPU和磁盘之间的缓冲设备，一般程序运行的时候会被调度到内存中执行，服务器关闭或程序关闭之后，数据自动从内存中释放掉。

特点：内存的容量和处理速度直接决定了电脑数据传输的快慢。内存和CPU、硬盘一起并称为电脑的三大件。

![img](D:\Notes\md_img\071119_0253_Linux26-1566387020471.jpg)

![img](D:\Notes\md_img\071119_0253_Linux27-1566387021048.jpg)

**图-内存条**

程序、进程和守护进程的基本概念：

程序： c/php/java，代码文件，放在磁盘中的数据。

进程： 正在运行的各类程序，进程运行就是把程序放在内存里执行。

守护进程（daemon）： 持续保持运行着的程序。

例如：周末了，你在家中休息，想听歌，打开你的电脑或者手机，打开电脑中的音乐播放软件（比如酷狗，QQ音乐等），这个音乐播放软件，在这里我们可以称他为程序，只要打开了软件，不管你是否在播放歌曲，这个打开了的软件程序就是进程，软件一直打开不关闭或者软件最小化放在后台，只要电脑开着，这个软件就在运行，那么他就是守护进程。

**企业案例：提升用户体验的网站解决方案**

1.门户（大网站
）极端案例：大并发写入案例（例如：过年抢红包、淘宝的双十一、电商的促销活动）

首先会把用户的数据先写到内存，积累一定的量后，然后再定时或者定量的写入到磁盘（减轻磁盘的压力，减少磁盘I/O （Input/Output））中，最终还是会把数据加载到内存中再对外提供访问。目的还是减轻对磁盘的访问压力，相关流程图如下：

![img](D:\Notes\md_img\071119_0253_Linux28-1566387021869.png)

**图-高并发企业业务写入流程图**

这种状况的特点如下：

优点是写数据到内存时，性能高、速度快。

缺点是可能会丢失一部分在内存中还没有来得及存入到磁盘的数据。

解决数据不丢的方法：

①.在服务器主板上安装蓄电池，在断电后宕机前的瞬间把内存中的数据写回到磁盘。

②.使用UPS电池组不间断供电（持续供电10分钟，IDC数据中心机房-UPS 1小时）。 UPS（Uninterruptible Power System/Uninterruptible Power Supply），即不间断电源，是将蓄电池（多为铅酸免维护蓄电池）与主机相连接，通过主机逆变器等模块电路将直流电转换成市电的系统设备。可以把它理解为充电宝。

③.选有双路电的机房，使用双电源、分别接不同路的电，以及将服务器放到不同的机柜，将企业的业务放置到不同的地区（异地）。

④.柴油发电机+油罐，一般机房会和附近的加油站签订紧急供油协议。

**2.中小企业案例**

对于并发访问（可以理解为同时访问数量）不是很大、数据量也不是特别大的网站，若是读多写少的业务，会先把数据写入到磁盘，然后再通过程序把写到磁盘的数据读入到内存里，再通过内存对外提供访问服务（如图所示）。绝大多数企业的业务逻辑中读请求（例如：浏览页面）是高于写请求（例如：写文章、发朋友圈）的。

![img](D:\Notes\md_img\071119_0253_Linux29-1566387022168.png)

**图-中小企业访问量低的读写流程示意图**

*注意：由于99%的网站以及企业都是以读取为主，写入为辅的，读写比例一般可能大于10:1，所以并发写入一般都不是大问题。这里提到的把数据写入到内存，一般是由Memcache或Redis等高效的内存级别软件来实现的，各类关系型数据库一般也都有读写缓存的功能。*

**3.小结**

看企业的具体的需求，然后选择对应的方案。

企业linux面试题：计算机操作系统中的buffer与cache有什么区别？

对于新手，可以参考如下说明来理解或解答。

①.缓冲区（buffer）

将数据写入到内存中，这个存放数据的内存空间在linux系统中一般被称为缓冲区（buffer），例如：写入到内存缓冲区，即写缓冲。

为了提高写操作性能，数据在写入最终介质或下一层级介质前，会合并放在缓冲区中。这样会增加数据持久写的延时，因为第一次写入缓冲区后，在向下写入数据之前，还要等待后续的写入，以便凑够数据或者定时写入到永久存储介质中。

②.缓存区（cache）

从内存里读取数据，这个存放数据的内存空间在linux系统中一般被称为缓存区（cache），例如：从内存读取，即读缓存。

操作系统用缓存来提高文件系统的读性能和内存分配性能，应用程序使用缓存也是为了提升读的访问效率。将经常访问的操作结果保存在缓存中可备随时使用，从而避免了总是执行读磁盘取数据等的一些操作，从而减轻了磁盘的压力。

![img](D:\Notes\md_img\071119_0253_Linux30-1566387023679.png)

**图-缓冲与缓存对比**

*小提示：缓存无处不在，无论是电脑硬件、操作系统，还是企业网站集群及其他业务系统！*

1. ### 磁盘

1.磁盘的基础知识

磁盘就是永久存放数据的存储器（如下图所示），不过磁盘上面也是有缓存的（芯片）。存储的内容一般有视频，文本，音频等各种数据，现在已经成为电脑和服务器不可缺少的配件。

作用：由于计算机在工作时，CPU、输入输出设备与存储器之间要进行大量地交换数据，因此存储器的存取速度和容量也是影响计算机运行速度的主要因素之一。特别是在服务器优化场景下，硬盘的性能是决定网站性能的重要因素之一。

常用的磁盘（硬盘）都是3.5英寸的，常规的机械硬盘，读取性能跟内存比差了很多，所以，在企业工作中，我们才会把大量的数据缓存到内存中，写入到缓冲区，这是当今互联网网站必备的解决网站访问速度慢的方案。

![img](D:\Notes\md_img\071119_0253_Linux31-1566387024159.png)

**图-可插拔硬盘外壳**

![img](D:\Notes\md_img\071119_0253_Linux32-1566387025392.png)

**图-企业级磁盘外观（硬盘）**

磁盘的接口包括IDE，SCSI，SAS(服务器标配)，SATA(民用)，PCI-E（M2）（固态）、其中IDE、SCSI已经退出历史舞台。

磁盘的类型又分为机械硬盘和SSD固态硬盘两种。

性能与价格排序（从高到低）：SSD（固态）> SAS > SATA。

2.磁盘的相关单位

现在生产的单块磁盘容量越来越大，体积却越来越小，速度也越来越快了，其中常见的有300GB、600GB、1TB、3TB、4TB等规格。

由于计算机是通过电位记录信息的，因此仅能识别0和1这两个数字，故而在计算机内部都是以二进制的形式进行存储和运算的，下面列出计算机数据的常用计量单位。

位（bit）

计算机存储数据的最小单位为位（bit），中文称为比特，一个二进制位由0或1表示两种状态，要表示更多的信息，就要把多个位组合成一个整体，一般以8位二进制数组成一个基本单位。由于比特这个单位太小了，因此，使用比特作单位的比较少，做网络带宽的公司使用的单位是bit，网络带宽速率一般用Mbit/s来表示，正常的下载速度就是1Mbit/s=128KByte/s,这就是我们购买了1MB的带宽，而实际的下载速度为128KB的原因。

字节（Byte）

字节是计算机数据处理的基本单位。字节（Byte）简写为B，规定一个字节由8个位组成，即1B=8b。一般情况下，一个ASCII码（美国标准信息交换代码,
它已被国际标准化组织（ISO）定为国际标准，称为ISO 646标准。适用于所有拉丁文字字母。）占用一个字节，一个汉字占用2-4个字节。

数据单位换算关系：

​         1B =8bit

1KB=1024B

​         1MB=1024KB

​         1GB=1024MB

​         1TB=1024GB

​         1PB=1024TB

1EB=1024PB

*注意：企业级硬盘计算：以1000位单位进行换算，即1TB=1000GB。*

3.计算机和服务器的各硬件I/O对比

![img](D:\Notes\md_img\071119_0253_Linux33-1566387024631.png)

**图-计算机各级设备I/O基本对比**

I/O（Input/Output）即为输入/输出，一般翻译为读写。

衡量磁盘读写速度的单位是iops，即input/output/ per second（每秒的输入输出）。其换算关系如下：

​        1s（秒）= 1000ms（毫秒）= 1000 000μs(微秒)= 1000 000 000ns(纳秒)

通过上图不难发现,
CPU处理速度最快，其次是内存,最慢的就是硬盘和网卡了。通过这张图可以了解不同的设备性能差距，将来做运维工作的时候，可从速度慢、瓶颈大的方向进行优化。

4.磁盘特点总结

企业级硬盘适合7*24小时使用，一般较贵，与笔记本以及家用台式电脑硬盘有区别（工业级和家用）。

对于企业高并发网站来讲，都会尽量让用户从内存中读取数据，而不是硬盘。

企业运维和架构师的网站优化，以及服务器、软件的优化核心本质，几乎都是在调整磁盘和内存之间的使用比。

1. ### Raid卡（阵列卡）

什么是Raid呢？它其实是一种技术，叫做磁盘冗余阵列，Raid的实现有软Raid（即软件实现）和硬Raid（即硬件实现）两种，二者的主要区别就是，硬件Raid实现的性能、冗余都比软Raid更好、更高。

    当网站数据量很大的时候，单块盘装不下了，若购买多块硬盘存放数据，就需要工具（Raid）把所有硬盘整合成一个大磁盘，再在这个大磁盘上进行分区（划分隔断、虚拟磁盘）存放数据，但是硬盘多了势必会损坏，可数据是不能丢的。因此，Raid还有另外一大功能，就是多块硬盘放在一起可以配置冗余（备份）。这样，即使有若干硬盘损坏了，数据也不会丢失，又因为业务对多块硬盘存储的数据访问效率也有需求，因此，Raid又分了不同的级别，比如，Raid0，Raid1，Raid5，Raid10等。

1.Raid卡的好处：

可以把所有的硬盘整合到一起（扩充容量）

可以让数据更安全(数据冗余)

可以获得更高的效率（读写性能）

有Raid卡后，一般会把磁盘连接到Raid卡上，而不是直接插到主板上了，Raid卡最终插到主板对应的插槽里。

Raid卡及其电池如下图所示：

![img](D:\Notes\md_img\071119_0253_Linux34-1566387025352.png)

**图-Raid卡及Raid卡电池**

前面已经提到，Raid分软Raid和硬Raid，其中，硬Raid卡又分为两种，即：

服务器板载Raid卡，仅支持Raid0和Raid1级别。

独立Raid卡，支持更多的功能。

\2. Raid的多种整合方式（Raid级别）

Raid的级别有很多种，常见的Raid级别有Raid0，Raid1，Raid5，Raid10，Raid级别的特点的内容会在讲解磁盘的时会详细说明。

    互联网公司服务器一般都会购买独立Raid卡，当然，Raid卡上也是有缓存的。

    冗余从好到坏：Raid1、Raid10、Raid5、Raid0

    性能从好到坏：Raid0、Raid10、Raid5、Raid1

    成本从低到高：Raid0、Raid5、Raid1、Raid10

    企业中的服务器如何选择Raid级别：根据数据的存储和访问的需求，去匹配对应的Raid级别。这句话适用于互联网的所有公司。

![img](D:\Notes\md_img\071119_0253_Linux35-1566387027705.png)

**图-Raid级别的工作流程**

*小作业：了解Raid常见级别、冗余、性能、硬盘数量及其应用场景。*

1. ### 光驱

光驱（如下图所示）作为一个设备也已经几乎退出历史舞台了，几乎所有的影视剧、音乐等也都不再用光驱发行了。

光驱的功能：听歌，看牒，装软件，用游戏光牒打游戏等等。

在企业应用中，光驱的主要作用用于服务器装系统，不过，出于为公司省钱考虑，可在购买服务器时淘汰光驱，换成下面的高效安装方式。

用U盘做镜像来安装系统。

还可以用更高端的网络安装（ftp，http）。

以及无人值守批量安装系统（cobbler或kickstart）。

![img](D:\Notes\md_img\071119_0253_Linux36-1566387028207.jpg)

**图-光驱及光驱的存放盒**

1. ### 远程管理卡

远程管理卡（如下图所示）是服务器特有的远程管理部件，在家用电脑及笔记本电脑上是不存在的。

它的作用是通过网络远程（异地）开关服务器，并可以查看服务器开关机的过程等信息，早期（2010年以前），服务器托管在IDC机房，一旦出现问题，还得跑机房或者请机房的人管理。有了远程管理卡之后，运维人员管理服务器的效率就大大的提高了。

远程管理卡有服务器自带的和独立的两类。服务器自带的远程管理卡，可以关机、开机，但是看不到开关服务器的过程。所以，建议给服务器配备独立的远程管理卡，可能会多花100多块钱的样子，但是，当服务器出现问题，就不需要打车或者出差，也不用给机房人员打电话了，可以利用远程管理卡快速查看服务器故障并恢复服务。

![img](D:\Notes\md_img\071119_0253_Linux37-1566387086891.png)

**图-远程管理卡外观及插在服务器上的连接线**

*小知识点：在Dell服务器中，远程管理卡叫做iDRAC 又称为Integrated Dell Remote Access Controller,也就是集成戴尔远程控制卡，这个请大家注意。*

1. ## 机房里面的服务器

服务器一般存放在机房的机柜里面的，在安装时一定要给服务器的各类线贴上规范标签，标记出每根线的用途等必要信息，如下图所示：

![img](D:\Notes\md_img\071119_0253_Linux38-1566387075847.png)

**图-服务器上网线上的标签及电源上的标签**

作为一名专业的linux运维人员，不仅仅是要熟练linux运维管理，在工作中的各个方面都需要做得更专业和规范，下面是关于专业和不专业的差别有多大的图片和文章，供大家参考。

相关文章：

https://blog.51cto.com/oldboy/2083789

http://mt.sohu.com/20150504/n412315357.shtml

不专业布线的后果：

![img](https://www.increase93.com/wp-content/uploads/2019/07/071119_0253_Linux39.png)

![img](D:\Notes\md_img\071119_0253_Linux40-1566387070987.png)

这个还像个样子，但是还是不够专业：

![img](D:\Notes\md_img\071119_0253_Linux41-1566387067045.png)

赏心悦目啊，从此再也不担心我的服务器的网线会突然掉线了：

![img](D:\Notes\md_img\071119_0253_Linux42-1566387061223.png)



机房里面的图片：

上海地区的一些机房地址：

http://www.starsdns.cn/news/list.asp?newsid=31

![img](D:\Notes\md_img\071119_0253_Linux43-1566387057221.png)

![img](D:\Notes\md_img\071119_0253_Linux44-1566387047876.png)