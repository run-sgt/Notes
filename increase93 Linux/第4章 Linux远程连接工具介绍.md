## 第四章 Linux远程连接工具介绍

2019-07-11 分类：[运维基础](https://www.increase93.com/?cat=5) 阅读(55) 评论(0)

1. ## 远程连接Linux系统管理

   1. ### 为什么要远程连接Linux系统



在很多机构的培训教学中，通常会直接在虚拟机界面或者虚拟机里的图形界面讲解知识，这也就导致非常多的学生只熟悉如何在虚拟机界面上操作，对实际的工作场景并不熟悉。事实上，在实际的工作场景中，用户很少能够接触到虚拟机界面或物理服务器本地的窗口，因为服务器装完系统后，都要拉到IDC机房托管，如果是购买了云主机，那么用户就更碰不到服务器本地显示器了，此时只能通过远程连接的方式管理Linux系统。因此，在装好Linux系统后，学习Linux运维的第一步应该是配置好客户端软件远程连接Linux 系统进行管理。



1. ### 连接小知识



1.IP地址

互联网上的计算机都会有一个唯一的32位地址，即IP地址，这个IP地址就相当于服务器的所在位置。

我们找人时，要知道这个人的具体地址，同理，如果要访问连接服务器，就必须通过服务器的IP地址来实现，服务器的IP地址就相当于服务器的具体地址。

局域网（只在我们目前环境里生效）里也有预留的IP地址，通常以192.168、10.0、172.16开头，每个局域网内的IP地址也是唯一的。



说明：外网IP地址--在全世界哪里都可以访问的IP地址。内网IP地址--只能在一个范围内访问的IP地址，例如：一个企业、一个教室，但也不是绝对的。

1. ### 端口的简单概念



一台主机上面可能会有很多功能和服务，主机上的各种不同的服务功能都是通过端口来表示的。例如：我们用于远程连接的服务端口号默认就是 22，服务名称为SSH服务，用于web界面进行访问的服务默认的端口号为80，服务名称为HTTP服务等等。



1. ### 协议的概念



协议，网络协议的简称，网络协议是通信计算机双方必须共同遵从的一组约定。如怎么样建立连接、怎么样互相识别等。只有遵守这个约定，计算机之间才能相互通信交流。它的三要素是：语法、语义、时序。

为了使数据在网络上从源到达目的，网络通信的参与方必须遵循相同的规则，这套规则称为协议（protocol），它最终体现为在网络上传输的数据包的格式。

简单理解不同的端口提供不同的服务，对应不同的功能，且其通信方式有也可能不同，这种客户端和服务器之间交流的通信方式就可以理解为协议。

一台主机上不同的服务功能，都是通过端口来区分的。若是不同的服的端口，客户端和服务器之间通信时，可能会使用不同的协议。

既然可以通过IP地址找到服务器，那就可以通过连接不同的服务端口获得不同的服务，以及使用各种不同的协议。下表为连接相关的基本名词及功能对应描述表。



| 名称     | 中文名字 | 含义               |
| -------- | -------- | ------------------ |
| IP       | IP地址   | 找谁，在哪里       |
| Port     | 端口     | 干啥，什么服务     |
| Protocol | 协议     | 什么语言、通信方式 |



我们所使用的远程连接服务就是基于SSH协议实现的。SSH协议是由IETF网络工作小组制定。在进行数据传输之前，SSH先通过加密技术对联机数据包进行加密处理，然后再进行数据传输，这样就可确保传递的数据安全。

​    SSH是专为远程登录会话和其他网络服务提供的安全性协议。利用SSH协议可以有效的防止远程管理过程中的信息泄露，在当前的生产环境中，绝大多数企业普遍采用SSH协议服务来代替传统的不安全的远程联机服务软件，如telnet（非加密的）等。



1. ## 远程连接工具介绍



远程连接Linux服务器的常见工具有Xshell、SecureCRT、Putty等，其中 最常用的是Xshell、SecureCRT。这些客户端连接工具在Linux服务器对应着相同SSH服务进程sshd，即远程连接都是使用SSH协议，当然它们也支持其他的协议，比如telnet等。

MAC系统用的远程连接工具一般为iTerm2或者进行本地连接。



1. ## Xshell整体优化

- 定义Xshell日志（工具-选项）

如下图所示。

![img](D:\Notes\md_img\071119_0402_Linux1.png)

- 关闭Xshell自动更新

如下图所示

![img](D:\Notes\md_img\071119_0402_Linux2.png)

- 关闭Xshell声音

如下图所示。

![img](D:\Notes\md_img\071119_0402_Linux3.png)

1. ## 显示优化

![img](D:\Notes\md_img\071119_0402_Linux4.png)

1. ## Xshell基础优化

如下图所示进行配置：

![img](D:\Notes\md_img\071119_0402_Linux5.png)

![img](D:\Notes\md_img\071119_0402_Linux6.png)

![img](D:\Notes\md_img\071119_0402_Linux7.png)

![img](D:\Notes\md_img\071119_0402_Linux8.png)

![img](D:\Notes\md_img\071119_0402_Linux9.png)

1. ## xshell使用连接



在真正的工作环境里，运维人员是几乎接触不到机房的服务器的。都是使用软件来远程连接控制。比如常用的CRT 和 xshell 。Xshell进行连接服务器，需要知道服务器的外网ip。查看虚拟机的ip地址，在命令行上面输入命令 ifconfig eth0



如下图所示

![img](D:\Notes\md_img\071119_0402_Linux10.png)

接下来如何使用xshell连接进入服务器，打开xshell软件，点开弹出的新建窗口，名称root，协议是选用默认的SSH加密协议。主机（H）输入你所获取到的IP地址端口默认22即可。

按照下图所示进行配置：

![img](D:\Notes\md_img\071119_0402_Linux11.png)

![img](D:\Notes\md_img\071119_0402_Linux12.png)

![img](D:\Notes\md_img\071119_0402_Linux13.png)

![img](D:\Notes\md_img\071119_0402_Linux14.png)

- 到了此处，表示我们远程连接已经成功起来了。

1. ## 远程连接工具排错

   1. ### 道路是否畅通 

1.ping 10.0.0.200 #服务器ip地址

2.是否有劫财劫色，被拦截了：SElinux，Firewalld #防火墙

3.是否提供远程连接服务（提供sshd服务）

命令：telnet 10.0.0.200(ip地址) 22（端口号）

1. ### 远程连接失败常见原因 

1.ip地址是否正确

2.网卡配置是否正确

3.关闭centos7 NetworkManager

systemctl stop NetworkManager

systemctl disable NetworkManager

4.虚拟网络编辑器

NAT模式：子网 IP：10.0.0.0

NAT设置：网关 IP：10.0.0.254

5.VMware服务是否正常启动

VMware 服务是正常运行（WIN搜索服务）

VMware网卡问题，查看本地网络。